!function(e){"use strict";e("body").on("click",".js-webinar-next-session",function(n){n.preventDefault();var a=e(this).attr("data-webinar-id");loadingSwl(),e.get("/panel/webinars/"+a+"/getNextSessionInfo",function(n){if(n&&200===n.code){var a=n.session,s=e("#webinarNextSessionModal").clone();s=s.prop("innerHTML"),null!==a&&(s=s.replace(/\[new\]/g,"["+a.id+"]"));var i='<div id="webinarNextSessionHtml">'+s+"</div>";Swal.fire({html:i,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem",onOpen:function(){var s=e("#webinarNextSessionHtml"),i="new";null!==a&&(s.find("form").attr("action","/panel/sessions/"+a.id+"/update"),Object.keys(a).forEach(function(e){s.find('[name="ajax['+a.id+"]["+e+']"]').val(a[e])}),i=a.id),s.find('[name="ajax['+i+'][webinar_id]"]').val(n.webinar_id),"local"!==a.session_api&&(s.find('[name="ajax['+a.id+'][session_api]"]').prop("disabled",!0),s.find('[name="ajax['+a.id+'][api_secret]"]').prop("disabled",!0),s.find('[name="ajax['+a.id+'][link]"]').prop("disabled",!0),s.find('[name="ajax['+a.id+'][date]"]').prop("disabled",!0),s.find('[name="ajax['+a.id+'][duration]"]').prop("disabled",!0)),"big_blue_button"===a.session_api?(s.find(".js-moderator-secret").removeClass("d-none"),s.find('[name="ajax['+a.id+'][moderator_secret]"]').prop("disabled",!0)):s.find(".js-moderator-secret").addClass("d-none"),"zoom"===a.session_api&&s.find(".js-api-secret").addClass("d-none"),resetDatePickers()}})}}).fail(function(e){Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue">'+undefinedActiveSessionLang+"</h3>",showConfirmButton:!1})})}),e("body").on("click",".js-save-next-session",function(n){n.preventDefault();var a=e(this),s=a.closest("form"),i=serializeObjectByTag(s),o=s.attr("action");a.addClass("loadingbar primary").prop("disabled",!0),s.find("input").removeClass("is-invalid"),s.find("textarea").removeClass("is-invalid"),e.post(o,i,function(e){e&&200===e.code&&(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveSuccessLang+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout(function(){window.location.reload()},500))}).fail(function(e){a.removeClass("loadingbar primary").prop("disabled",!1);var n=e.responseJSON;n&&n.errors&&Object.keys(n.errors).forEach(function(e){var a=n.errors[e],i=s.find(".js-ajax-"+e);i.addClass("is-invalid"),i.parent().find(".invalid-feedback").text(a[0])})})}),e("body").on("change",".js-ajax-session_api",function(n){n.preventDefault();var a=e(this).closest("form"),s=this.value;"big_blue_button"===s?(a.find(".js-local-link").addClass("d-none"),a.find(".js-api-secret").removeClass("d-none"),a.find(".js-moderator-secret").removeClass("d-none")):"zoom"===s?(a.find(".js-local-link").addClass("d-none"),a.find(".js-api-secret").addClass("d-none"),a.find(".js-moderator-secret").addClass("d-none")):(a.find(".js-local-link").removeClass("d-none"),a.find(".js-api-secret").removeClass("d-none"),a.find(".js-moderator-secret").addClass("d-none"))})}(jQuery);
